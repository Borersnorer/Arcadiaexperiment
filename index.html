let lastFocusedHotspot = null;

document.addEventListener('click', e => {
  const hotspot = e.target.closest('.hotspot');
  if (hotspot) {
    lastFocusedHotspot = hotspot;
    // ... open popup ...
  } else if (!e.target.closest('#popup')) {
    closePopup();
  }
});

function closePopup() {
  popup.classList.remove('open');
  popup.setAttribute('aria-hidden', 'true');
  setTimeout(() => {
    popup.style.display = 'none';
    if (lastFocusedHotspot) lastFocusedHotspot.focus();
  }, 1000);
}
